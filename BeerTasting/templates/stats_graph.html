{% extends "base.html" %}

{% load beertasting_extra %}

{% block content %}
	{% if login_failed %}
		{% include 'alerts/login_failed.html' %}
	{% endif %}
			<div class="row">
				<div class=".col-lg-12">
					<h2>#{{ beer.beer.id }}</h2>
					<table class="table">
						<tr class="border">
							<th class="hidden-s">#</th>
							<th class="hidden-m">Label</th>
							<th>Name</th>
							<th>Brewery</th>
							<th class="hidden-xs">Style</th>
							<th class="hidden-xs">Alcohol</th>
						</tr>
						
						<tr>
							<td rowspan="2" class="hidden-s">
								{{ beer.id }}
							</td>
							<td rowspan="2">
								<img src="{{ beer.label }}" width="100" height="100" />
							</td>
							<td>{{ beer.name }}</td>
							<td>{{ beer.brewery }}</td>
							<td class="hidden-xs">{{ beer.style }}</td>
							<td class="hidden-xs">{{ beer.alcohol }}</td>
						</tr>
						<tr>
							<td colspan="4">
								<script>
									var lineChartData{{ forloop.counter }} = {
										labels : ["1","2","3","4","5","6","7","8","9","10"],
										datasets : [
											{
												label: "Ratings",
												fillColor : "rgba(151,187,205,0.2)",
												strokeColor : "rgba(151,187,205,1)",
												pointColor : "rgba(151,187,205,1)",
												pointStrokeColor : "#fff",
												pointHighlightFill : "#fff",
												pointHighlightStroke : "rgba(151,187,205,1)",
												bezierCurve : true,
												bezierCurveTension : 0.0,
												data : [{% for x in r %}{{ x }},{% endfor %}]
											}
										]

									}

								window.onload = function(){
									var ctx = document.getElementById("canvas{{ forloop.counter }}").getContext("2d");
									window.myLine = new Chart(ctx).Line(lineChartData{{ forloop.counterÂ }}, {
										responsive: true
									});
								}
								</script>

								<div style='width:90%'>
									<div>
										<canvas id='canvas{{ forloop.counter }}'></canvas>
									</div>
								</div>
							</td>
						<tr>
					</table>
				</div>
			</div>

	{% endblock %}